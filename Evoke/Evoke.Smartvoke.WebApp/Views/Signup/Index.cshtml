@{
    ViewBag.Title = "Signup";
    Layout = "~/Views/Shared/Authentication/_Layout.cshtml";
}

<div>
    <div class="mdl-layout mdl-js-layout mdl-color--grey-100">
        <main class="mdl-layout__content">
            <div class="mdl-card mdl-shadow--6dp">
                <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
                    <h2 class="mdl-card__title-text">Signup</h2>
                    <a href="/signin" class="mdl-button mdl-js-button mdl-button--primary mdl-color-text--white custom-signup-button">Login</a>
                </div>
                <div class="mdl-card__supporting-text">
                    <form action="#" id="signup-form">
                        <div class="mdl-textfield mdl-js-textfield">
                            <input class="mdl-textfield__input" type="text" id="firstname" placeholder="first name" />
                            <label class="mdl-textfield__label" for="firstname">Firstname</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield">
                            <input class="mdl-textfield__input" type="text" id="lastname" placeholder="last name" />
                            <label class="mdl-textfield__label" for="lastname">Lastname</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield">
                            <input class="mdl-textfield__input" type="text" id="email" placeholder="email" />
                            <label class="mdl-textfield__label" for="email">Email</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield">
                            <input class="mdl-textfield__input" type="password" id="password" placeholder="password" />
                            <label class="mdl-textfield__label" for="password">Password</label>
                        </div>
                        <div class="mdl-textfield mdl-js-textfield">
                            <input class="mdl-textfield__input" type="text" id="phone" placeholder="phone number" />
                            <label class="mdl-textfield__label" for="phone">phone</label>
                        </div>
                    </form>
                </div>
                <div class="mdl-card__actions mdl-card--border">
                    <button class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" onclick="signup()">Register</button>
                </div>
            </div>
        </main>
    </div>
</div>

@* CSS section *@

<style>
    .mdl-layout {
        align-items: center;
        justify-content: center;
    }

    .mdl-layout__content {
        padding: 24px;
        flex: none;
    }

    .custom-signup-button {
        margin-left: 65%;
        /* margin-right: 10px; */
        position: absolute;
    }
</style>


@* Script Section *@

<script>
    function signup()
    {

        var firstname = $("#firstname").val();
        var lastname = $("#lastname").val();
        var email = $("#email").val();
        var password = $("#password").val();
        var phone = $("#phone").val();

        $.post("http://localhost:1800/api/Signup",
        {
            Firstname: firstname,
            Lastname: lastname,
            Email: email,
            Password: password,
            Phone: phone

        },
        function (data, status) {
            alert("Data: " + JSON.stringify(data) + "\nStatus: " + status);
            if(data.Status == "Success")
            {
        //        location.href = "/Home";
            }
        });

    }

    $(document).ready(function () {
        $(document).keypress(function (event) {
            console.log("form submitting via keypress");
            if (event.which == 13) {
                event.preventDefault();
                signup();
            }
        });
    });
</script>